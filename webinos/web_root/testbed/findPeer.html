<!--/*******************************************************************************
*  Code contributed to the webinos project
* 
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*  
*     http://www.apache.org/licenses/LICENSE-2.0
*  
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
* Copyright 2012 Ziran Sun Samsung Electronics(UK) Ltd
******************************************************************************/ -->
<!DOCTYPE html>
<html>
  <head>
    <title>Webinos PZP Peer Discovery</title>
    <script type="text/javascript" src="/client/jquery-1.8.2.min.js" ></script>
    <link rel="stylesheet" href="css/layout.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" />
    <script type="text/javascript" src="js/jquery.equalHeight.js"></script>
    <link rel="stylesheet" type="text/css" href="css/style.css" media="screen" />
    <script type="text/javascript" src="/client/webinos.js"></script>
  </head>
      
  <body>	
    
    <div id="functions">
     <h3> PZP Status </h3>	
     	<ul class="toggle" style="display: block;" id="enumConnectedPzh">
     </ul>
     <h3> Actions </h3>
      <ul class="toggle" style="">
        <li><a href="#findPeers" id="findPeers"> Discover Peers </a></li>
       </ul>   
       
      <ul class="toggle" style="">
        <li><a href="#showHashQR" id="showHashQR"> Display key Hash </a></li>
       </ul>  
        
      <ul class="toggle" style="">
        <li><a href="#connectPeers" id="connectPeers"> Connect to Peers </a></li>
       </ul>  
      
      </div>
      
   

     	
      <hr />
        <p>Contacts:</p>
	    <a href="mailto:ziran.sun@samsung.com">ziran.sun@samsung.com</a> 
			
	</body>
	
  <script type="text/javascript">
	
  $(document).ready(function() {	
    function fillPZPstatus(data) {
    }
    webinos.session.addListener('pzpStatus', fillPZPstatus);
  });
  
  //trigger find peer function
  
  $("#findPeers").click(function(){
    //alert ("Start finding other PZP Peers");
    var options = {type: 'prop', payload: {status:'pzpFindPeers'}};
    webinos.session.message_send(options);
  });
  
  $("#showHashQR").click(function(){
    var options = {type: 'prop', payload: {status:'showHashQR'}};
    webinos.session.message_send(options);
  });
    
  function displayQR(msg) {
   
   alert ("displayQR is called");
    
   /* $('#main').html('<article class="module width_full"><header><h3>Logs</h3></header>' +
    '<div class="module_content">'+ msg.payload.message +'</div></article>' +
    '<div class="spacer"></div>');*/
  }
  
  webinos.session.addListener('showHashQR', displayQR);
  
  </script>
	
</html>


